<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles/dashboard.css" />
    <link rel="icon" href="./favicon_io/talktyme.PNG" />
    <link rel="stylesheet" href="./styles/index.css">
    <script
      src="https://kit.fontawesome.com/714346974b.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>
    <!-- <link rel="stylesheet" href="./Style/login.css.css"> -->


    <title>Dashboard | VidConnect</title>
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Loader -->
    <!-- <link rel="stylesheet" href="./styles/" />
    <script src="./scripts/loaderTornado.js"></script> -->
    <!-- Loader End-->
  </head>
  <body>
    <!-- navbar -->
    
  <!-- <nav class="navbar">
    <div class="navbar-brand">
      <img id="image-home" src="./images/WhatsApp Image 2023-07-22 at 6.05.39 PM.jpeg" alt="Logo">
    </div>
    <ul class="navbar-menu">
      <li><a href="./index.html">Home</a></li>
      <li><a id="dash" href="#">Dashboard</a></li>
      <li><a href="#">About Us</a></li>
      <li><a href="#">Feature</a></li>
      <li><a href="#">Pricing</a></li>
    </ul>
    <div class="navbar-user">
      <h2 id="showname"></h2>
      <div class="navbar-buttons">
        <button id="login" class="btn-login">Login</button>

      </div>
    </div>
  </nav> -->

  <div id="navbar">
    <div class="image">
      <a href="./index.html"><img src="./images/WhatsApp Image 2023-07-22 at 6.05.39 PM.jpeg" style="width: 130px" alt="error" /></a>
    </div>
    <div class="nav-menu">
      <ul>
        <li>
          <a href="#"><b>VidConnect</b></a>
        </li>
        <!-- <li><a id="dash" href="#">Dashboard</a></li> -->
        <!-- <li><a id="video" href="#">VidConnect Video Call</a></li> -->
        <!-- <li><a id="chat" href="#">VidConnect Chat</a></li> -->
        <li><a href="#">Features</a></li>
        <li>
          <a href="#">Products</a>
          <ul>
            <li><a href="#">Meet Now</a></li>
            <li><a href="#">VidConnect Manager</a></li>
            <li><a href="#">VidConnect With Alexa</a></li>
            <li><a href="#">VidConnect for content creators</a></li>
            <li><a href="#">VidConnect for business</a></li>
          </ul>
        </li>
        <!-- <li>
          <a href="#">Get Help</a>
          <ul>
            <li><a href="#">VidConnect Support</a></li>
            <li><a href="#">Blogs</a></li>
            <li><a href="#">Community</a></li>
            <li><a href="#">About VidConnect</a></li>
          </ul>
        </li> -->
      </ul>
    </div>
    <div class="sign-in" id="sign-in-2">
      <ul>
        <li id="logout"><a href="#">Host a meeting</a></li>
        <li class="dom-manipulation">
          <a href="#">Sign In</a>
          <ul>
            <li><a href="#">My account</a></li>
            <li><a href="#">Use VidConnect Online</a></li>
            <li>
              <a href="./signup.html"><span>Sign Up</span></a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>




    <br /><br />
    <!-- main content -->
    <div id="main_dashboard">
   
      <div id="ïmg1">
        <img
          class="img1_main"
          src="https://user-images.githubusercontent.com/115463536/229345353-f12c3416-fa09-4d7c-8190-a42273105e9a.gif"
          alt=""
        />
      </div>
      <div id="main_img_info">

       
        <a id="anchor" href="./room.html?type=videochat">
          <div class="div_img_info">
            <img
              class="img_info"
              src="https://user-images.githubusercontent.com/115463536/229345389-d7c5186e-d34c-46fa-a5e7-3b63815f9305.gif"
              alt=""
            />
            <p>Video Call</p>
          </div>
        </a>
        
        <a id="anchor" href="./room.html?type=message">
          <div class="div_img_info">
            <img
              class="img_info"
              src="https://user-images.githubusercontent.com/115463536/229345461-fd213545-2b3c-4ae0-93f3-ef1f5e725eff.gif"
              alt=""
            />
            <p>Message</p>
          </div>
        </a>
        <a id="anchor" href="./index.html">
          <div class="div_img_info">
            <img
              class="img_info"
              src="https://user-images.githubusercontent.com/115463536/229345427-8a022b0e-2638-4ce3-b4e2-ffc94ba79745.gif"
              alt=""
            />
            <p>Back To Home</p>
          </div></a
        >
        <!-- <a href="./index.html"> -->
          <spam>
          <div class="div_img_info" id="logout" >
            <img
              class="img_info"
              src="https://user-images.githubusercontent.com/115463536/229345490-98dd7120-789b-4411-899d-4a8ad9c84b5c.gif"
              alt=""
            />
            <p id="show-here">Logout</p>
          </div>
        </spam>
        <!-- </a> -->
      </div>
    </div>
    // footer section starts here
    <div id="footer-part">
      <table id="footer">
        <tr>
          <th>What's new</th>
          <th>Microsoft Store</th>
          <th>Education</th>
          <th>Business</th>
          <!-- <th>Developer & IT</th>
          <th>Company</th> -->
        </tr>
        <td>Surface Pro 9</td>
        <td>Account Profile</td>
        <td>Microsoft in education</td>
        <td>Microsoft Cloud</td>
        <!-- <td>Azure</td>
        <td>Careers</td> -->
        <tr>
          <td>Surface Laptop 5</td>
          <td>Download Center</td>
          <td>Devices for education</td>
          <td>Microsoft Security</td>
          <!-- <td>Developer Center</td>
          <td>About Microsoft</td> -->
        </tr>
        <tr>
          <td>Surface Studio 2+</td>
          <td>Microsoft Store support</td>
          <td>Microsoft Teams for Education</td>
          <td>Dynamics 365</td>
          <!-- <td>Documentation</td>
          <td>Company news</td> -->
        </tr>
        <tr>
          <td>Surface Laptop Go 2</td>
          <td>Returns</td>
          <td>Microsoft 365 Education</td>
          <td>Microsoft 365</td>
          <!-- <td>Microsoft Learn</td>
          <td>Privacy at Microsoft</td> -->
        </tr>
        <tr>
          <td>Surface Laptop Studio</td>
          <td>Order tracking</td>
          <td>How to buy for your school</td>
          <td>Microsoft Power Platform</td>
          <!-- <td>Microsoft Tech Community</td>
          <td>Investors</td> -->
        </tr>
        <tr>
          <td>Microsoft 365</td>
          <td>Microsoft Store Promise</td>
          <td>Deals for students and parents</td>
          <td>Microsoft Industry</td>
          <!-- <td>AppSource</td>
          <td>Accessibility</td> -->
        </tr>
      </table>
    </div>
    <div id="footer-last">
      <ul>
        <li>
          <a href="#">
            <!-- <p>Sitemap</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>Contact Us</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>Privacy</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>Terms of use</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>Trademarks</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>About our ads</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>EU Contract Summary</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>Legal</p> -->
          </a>
        </li>
        <li>
          <a href="#">
            <!-- <p>© Microsoft 2023</p> -->
          </a>
        </li>
      </ul>
    </div>





  </body>
</html>
<script>
  const logout = document.querySelector(".dom-manipulation");
  // dom-manipulation-logout
  const full_name = document.getElementById("logout");
  // full-name-username
  const signin = document.getElementById("sign-in-2");

  const data = JSON.parse(localStorage.getItem("userDetails")) || null;
  const token = localStorage.getItem("token");
  console.log(token);
  console.log(data);

  const dashboardbtn = document.getElementById("dash");
  const videodbtn = document.getElementById("video");
  const chatbtn = document.getElementById("chat");

  if (data) {
    full_name.textContent = `Hi ! ${data.name}`;
    full_name.style.marginTop = "7px";
    full_name.style.fontWeight = "bolder";
    full_name.style.cursor = "pointer";
    full_name.style.fontSize = "16px";
    full_name.style.marginRight = "30px";
    full_name.style.marginBottom = "3px";
    // signin.style.border = "2px solid red";
    signin.style.padding = "10px 10px";
    signin.style.justifyContent = "center";
    signin.style.marginBottom = "3px";
    signin.style.boxShadow = "rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px";

    signin.style.borderRadius = "5px";
    signin.style.backgroundColor = "#eee";
    // full_name.style.border = "2px solid red";
    full_name.style.width = "100px";
    logout.textContent = "Logout";
    logout.style.marginTop = "7px";
    logout.style.cursor = "pointer";
    // logout.style.fontSize = "60px";
    // logout.style.padding = "10px";
    logout.addEventListener("click", async () => {
      try {
        fetch(`https://videochat-auth.onrender.com/user/logout`,
          {
            method: "POST",
            headers: {
              "content-type": "application/json",
              "Authorization": `${token}`
            }
          }
        ).then(res => res.json())
          .then(data => {
            localStorage.clear();
            Swal.fire(
              `${data.msg}`,
              '',
              'success'
            )
          })
        setTimeout(() => {
          window.location.href="index.html"
        }, 1000);
      } catch (err) {
        console.log(err);
      }
    })
  }

  // if (token) {
  dashboardbtn.addEventListener("click", () => {
    if (token) {

      window.location.href = "./dashboard.html"
    } else {
      Swal.fire({
        icon: "error",
        title: "Please Login First",
        text: "Login To Access",
      });
    }
  })
  videodbtn.addEventListener("click", () => {
    if (token) {
      window.location.href = "./room.html?type=videochat"

    } else {
      Swal.fire({
        icon: "error",
        title: "Please Login First",
        text: "Login To Access",
      });
    }
  })
  chatbtn.addEventListener("click", () => {
    if (token) {
      window.location.href = "./room.html?type=message"

    } else {
      Swal.fire({
        icon: "error",
        title: "Please Login First",
        text: "Login To Access",
      });
    }
  })
  // }

</script>
<script src="./scripts/dashbord.js"></script>
